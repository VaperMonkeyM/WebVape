<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Panel Admin — The King Puff</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>

<header class="header">
  <div class="container header-inner">
    <a class="logo" href="index.html">
      <span class="logo-mark"><img src="content.png"></span>
      <span>
        <span class="logo-top">The King</span>
        <span class="logo-bottom">Puff</span>
      </span>
    </a>
  </div>
</header>

<!-- MENSAJE DE SIN PERMISOS -->
<div id="noAccessMessage" class="hidden">
  <section class="section container" style="text-align: center; padding: 60px 20px;">
    <h2 class="section-title">Acceso denegado</h2>
    <p style="font-size: 18px; margin: 20px 0;">No tienes permisos para acceder al panel de administración.</p>
    <a href="index.html" class="btn-primary" style="display: inline-block; margin-top: 20px;">Volver al inicio</a>
  </section>
</div>

<section class="section-admin container" id="adminPanel">

  <h2 class="section-title">Panel de administración</h2>

  <!-- Categorías -->
  <div class="admin-card">
    <h3 class="admin-title">Categorías</h3>

    <form id="categoryForm" class="admin-form">
      <input id="catName" type="text" placeholder="Nueva categoría">
      <button class="btn-primary">Añadir</button>
    </form>

    <div id="adminCategoryList" class="admin-list"></div>
  </div>

  <!-- Vapers -->
  <div class="admin-card">
    <h3 class="admin-title">Vapers</h3>

    <form id="vaperForm" class="admin-form">
      <input id="vaperName" type="text" placeholder="Nombre del vaper">
      <select id="vaperCategory"></select>
      <input id="vaperImage" type="text" placeholder="Imagen general (opcional)">
      <button class="btn-primary">Crear vaper</button>
    </form>

    <div id="adminVaperList" class="admin-vapers"></div>
  </div>
</section>

<!-- MODAL EDITOR VAPER -->
<div id="editVaperModal" class="modal-overlay hidden">
  <div class="modal">
    <button id="editVaperClose" class="modal-close">✕</button>

    <h2 id="editVaperTitle"></h2>

    <div class="modal-body">
      <label>Nombre</label>
      <input id="editVaperName" type="text">

      <label>Categoría</label>
      <select id="editVaperCategory"></select>

      <label>Imagen general</label>
      <input id="editVaperImg" type="text">

      <h3>Sabores</h3>
      <div id="editVaperFlavors"></div>

      <button id="addFlavorBtn" class="btn-ghost full">Añadir sabor</button>

      <button id="saveVaperChanges" class="btn-primary full" style="margin-top:20px">
        Guardar cambios
      </button>
    </div>
  </div>
</div>

<script type="module">
  import { checkAdminAccess } from "./main.js";
  checkAdminAccess();
</script>
<script type="module" src="main.js"></script>
</body>
</html>
